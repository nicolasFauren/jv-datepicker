<link rel="import" href="../../polymer/polymer.html"><link rel="import" href="jv-datepicker-icons.html"><link rel="import" href="datepicker-slide-from-left-animation.html"><link rel="import" href="datepicker-slide-from-right-animation.html"><link rel="import" href="../../iron-selector/iron-selector.html"><link rel="import" href="../../iron-list/iron-list.html"><link rel="import" href="../../paper-icon-button/paper-icon-button.html"><link rel="import" href="../../neon-animation/neon-animated-pages.html"><link rel="import" href="../../neon-animation/neon-animation-runner-behavior.html"><link rel="import" href="../../neon-animation/animations/fade-in-animation.html"><link rel="import" href="../../neon-animation/animations/fade-out-animation.html"><link rel="import" href="../../neon-animation/animations/slide-from-left-animation.html"><link rel="import" href="../../neon-animation/animations/slide-from-right-animation.html"><dom-module id="jv-datepicker"> <template strip-whitespace> <style>:host{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;box-sizing:border-box;background:var(--jv-datepicker-bg,#fafafa);@apply(--jv-datepicker);display:block}*{box-sizing:inherit}div.datepicker{position:relative;width:300px;height:384px;max-height:384px;@apply(--layout-vertical)}div.datepicker.with-buttons{height:431px;max-height:431px}div.selected-date,div.selected-year{font-weight:800;height:34px;cursor:pointer}iron-selector.selected-fulldate{min-height:84px;padding:8px 24px;color:var(--jv-datepicker-selection-color,#b2dfdb);background-color:var(--jv-datepicker-selection-bg,#009688);@apply(--layout-vertical)}div.selected-date.iron-selected,div.selected-year.iron-selected{color:var(--jv-datepicker-iron-selected,#fefefe)}div.selected-year{font-size:14px;@apply(--layout-horizontal);@apply(--layout-center);@apply(--jv-datepicker-selected-year)}div.selected-date{font-size:32px;@apply(--layout-horizontal);@apply(--layout-center);@apply(--jv-datepicker-selected-date)}neon-animated-pages.fullcalendar{width:100%;height:100%;overflow:hidden;color:var(--jv-datepicker-calendar-color,#000);background-color:var(--jv-datepicker-calendar-bg,#fafafa);@apply(--layout-vertical)}div.navigator{max-height:46px;padding:3px 10px;position:relative;margin-top:8px;@apply(--layout-horizontal);@apply(--layout-center-center)}div.nav-month-year{font-size:14px;font-weight:500;text-align:center;@apply(--layout-flex-auto);@apply(--jv-datepicker-nav-month-year)}div.days-of-week{color:var(--jv-datepicker-weekdays-color,#9b9b9b);font-size:11px;@apply(--layout-horizontal);@apply(--layout-center-center);@apply(--jv-datepicker-days-of-week)}div.each-days-of-week{padding:13px;max-height:32px;width:41px;@apply(--layout-horizontal);@apply(--layout-center-center)}div.days-of-month{font-size:12px;@apply(--layout-horizontal);@apply(--layout-wrap);@apply(--layout-center-justified);@apply(--jv-datepicker-days-of-month)}div.each-days-of-month{height:35px;width:35px;margin-left:3px;margin-right:3px;position:relative;@apply(--layout-horizontal);@apply(--layout-center-center)}div>div.days-of-month>div.each-days-of-month.chosen-days-of-month{border-radius:50%;background-color:var(--jv-datepicker-selected-day-bg,#009688);color:var(--jv-datepicker-selected-day-color,#fff)}div.days-of-month>div.each-days-of-month.is-today{color:var(--jv-datepicker-today-color,#009688)}div.days-of-month>.each-days-of-month.is-disabled-day{color:var(--jv-datepicker-disabled-color,#9e9e9e)}div.each-days-of-month:not(.is-non-selectable){cursor:pointer}div.each-list-of-years{height:64px;font-size:14px;cursor:pointer;@apply(--layout-horizontal);@apply(--layout-center-center);@apply(--jv-datepicker-each-list-of-years)}div.each-list-of-years.is-selected{background-color:var(--jv-datepicker-selected-year-bg,#f5f5f5);color:var(--jv-datepicker-selected-year-color,#009688);font-weight:800}paper-icon-button{color:var(--jv-datepicker-icon-button-color,#737373);--paper-icon-button-ink-color:var(--jv-datepicker-icon-button-ink-color, #737373)}div.calendar-view>::content>div.buttons{color:var(--jv-datepicker-button-color,#009688);--paper-button-ink-color:var(--jv-datepicker-button-ink-color, #737373);position:relative;padding:8px 8px 8px 24px;margin:0;font-size:12px;font-weight:500;@apply(--layout-horizontal);@apply(--layout-end-justified);@apply(--jv-datepicker-buttons)}div.days-of-month,div.days-of-week,div.nav-month-year{will-change:transform;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-backface-visibility:hidden;backface-visibility:hidden}@media all and (orientation:landscape){:host(:not(.vertical-view)) div#dp.datepicker{width:512px;height:241px;@apply(--layout-horizontal)}:host(:not(.vertical-view)) div#dp.datepicker.with-buttons{height:288px}:host(:not(.vertical-view)) iron-selector.selected-fulldate{width:calc(100% / 3 + 48px);height:100%}:host(:not(.vertical-view)) div.selected-date{height:68px;@apply(--layout-vertical);@apply(--layout-start);@apply(--layout-center-justified)}:host(:not(.vertical-view)) neon-animated-pages.fullcalendar{height:100%}:host(:not(.vertical-view)) div.calendar-view{padding-bottom:0}:host(:not(.vertical-view)) div.navigator{padding:2px 10px;margin-top:0}:host(:not(.vertical-view)) div.each-days-of-week{width:calc(100% / 7 - 20px);padding:0;margin-left:10px;margin-right:10px}:host(:not(.vertical-view)) div.days-of-month{margin-top:8px}:host(:not(.vertical-view)) div.each-days-of-month{height:29px;margin-left:10px;margin-right:10px;width:calc(100% / 7 - 20px)}}:host(.horizontal-view) div#dp.datepicker{width:512px;height:241px;@apply(--layout-horizontal)}:host(.horizontal-view) div#dp.datepicker.with-buttons{height:288px}:host(.horizontal-view) iron-selector.selected-fulldate{width:calc(100% / 3 + 48px);height:100%}:host(.horizontal-view) div.selected-date{height:68px;@apply(--layout-vertical);@apply(--layout-start);@apply(--layout-center-justified)}:host(.horizontal-view) neon-animated-pages.fullcalendar{height:100%}:host(.horizontal-view) div.calendar-view{padding-bottom:0}:host(.horizontal-view) div.navigator{padding:2px 10px;margin-top:0}:host(.horizontal-view) div.each-days-of-week{width:calc(100% / 7 - 20px);padding:0;margin-left:10px;margin-right:10px}:host(.horizontal-view) div.each-days-of-month{height:29px;margin-left:10px;margin-right:10px;width:calc(100% / 7 - 20px)}:host(.dark-theme){background-color:var(--jv-datepicker-bg,#424242)}:host(.dark-theme) iron-selector.selected-fulldate{color:var(--jv-datepicker-selection-color,#9e9e9e);background-color:var(--jv-datepicker-selection-bg,#555)}:host(.dark-theme) div.selected-date.iron-selected,:host(.dark-theme) div.selected-year.iron-selected{color:var(--jv-datepicker-iron-selected,#f5f5f5)}:host(.dark-theme) neon-animated-pages.fullcalendar{color:var(--jv-datepicker-calendar-color,#f5f5f5);background-color:var(--jv-datepicker-calendar-bg,#424242)}:host(.dark-theme) div.days-of-week{color:var(--jv-datepicker-weekdays-color,#7c7c7c)}:host(.dark-theme) div>div.days-of-month>div.each-days-of-month.chosen-days-of-month{color:var(--jv-datepicker-selected-day-color,#555);background-color:var(--jv-datepicker-selected-day-bg,#80cbc4)}:host(.dark-theme) div.days-of-month>div.each-days-of-month.is-today{color:var(--jv-datepicker-today-color,#80cbc4)}:host(.dark-theme) div.days-of-month>.each-days-of-month.is-disabled-day{color:var(--jv-datepicker-disabled-color,#ff0)}:host(.dark-theme) div.each-list-of-years.is-selected{background-color:var(--jv-datepicker-selected-year-bg,rgba(0,0,0,0));color:var(--jv-datepicker-selected-year-color,#80cbc4);font-size:26px;font-weight:500}:host(.dark-theme) paper-icon-button{color:var(--jv-datepicker-icon-button-color,#ff0);--paper-icon-button-ink-color:var(--jv-datepicker-icon-button-ink-color, #212121)}:host(.dark-theme) div.calendar-view>::content>div.buttons>paper-button{color:var(--jv-datepicker-button-color,#80cbc4);--paper-button-ink-color:var(--jv-datepicker-button-ink-color, #bcbcbc)}:host(.goog-theme){background-color:var(--jv-datepicker-bg,#212121)}:host(.goog-theme) iron-selector.selected-fulldate{color:var(--jv-datepicker-selection-color,#fff);background-color:var(--jv-datepicker-selection-bg,#212121)}:host(.goog-theme) div.selected-date.iron-selected,:host(.goog-theme) div.selected-year.iron-selected{color:var(--jv-datepicker-iron-selected,#DA4336)}:host(.goog-theme) neon-animated-pages.fullcalendar{color:var(--jv-datepicker-calendar-color,#fff);background-color:var(--jv-datepicker-calendar-bg,#212121)}:host(.goog-theme) div.days-of-week{color:var(--jv-datepicker-weekdays-color,#9e9e9e)}:host(.goog-theme) div>div.days-of-month>div.each-days-of-month.chosen-days-of-month{color:var(--jv-datepicker-selected-day-color,#fff);background-color:var(--jv-datepicker-selected-day-bg,#DA4336)}:host(.goog-theme) div.days-of-month>div.each-days-of-month.is-today{color:var(--jv-datepicker-today-color,#DA4336)}:host(.goog-theme) div.days-of-month>.each-days-of-month.is-disabled-day{color:var(--jv-datepicker-disabled-color,#646464)}:host(.goog-theme) div.each-list-of-years.is-selected{background-color:var(--jv-datepicker-selected-year-bg,rgba(0,0,0,0));color:var(--jv-datepicker-selected-year-color,#DA4336);font-size:26px;font-weight:500}:host(.goog-theme) paper-icon-button{color:var(--jv-datepicker-icon-button-color,#DA4336);--paper-icon-button-ink-color:var(--jv-datepicker-icon-button-ink-color, #616161)}:host(.goog-theme) div.calendar-view>::content>div.buttons>paper-button{color:var(--jv-datepicker-button-color,#DA4336);--paper-button-ink-color:var(--jv-datepicker-button-ink-color, #616161)}</style> <div id="dp" class="datepicker"> <iron-selector selected="{{_activeView}}" class="selected-fulldate" attr-for-selected="view"> <div class="selected-year" view="year"> [[_selectedYear]] </div><div class="selected-date" view="calendar"> [[_selectedDaysOfWeek]],&nbsp; <span>[[_computeShortMonthName(_selectedMonth)]] [[_selectedDate]]</span> </div></iron-selector> <neon-animated-pages class="fullcalendar" selected="[[_activeView]]" attr-for-selected="view" entry-animation="[[pageEntryAnimation]]" exit-animation="[[pageExitAnimation]]"> <div class="calendar-view" view="calendar"> <div class="navigator"> <paper-icon-button icon="datepicker:chevron-left" on-transitionend="_decrementMonth" on-tap="_decrementMonth" noink="[[noAnimation]]"></paper-icon-button> <div id="navMonthYear" class="nav-month-year"> [[_computeMonthName(_activeMonth)]] [[_activeYear]] </div><paper-icon-button icon="datepicker:chevron-right" on-transitionend="_incrementMonth" on-tap="_incrementMonth" noink="[[noAnimation]]"></paper-icon-button> </div><div id="daysOfWeek" class="days-of-week"> <template is="dom-repeat" items="[[_daysOfWeek]]" index-as="index" strip-whitespace> <div class="each-days-of-week"> [[item]] </div></template> </div><div id="daysOfMonth" class="days-of-month" on-tap="_chooseDaysOfMonth"> <template is="dom-repeat" items="[[_daysOfMonth]]" index-as="index" strip-whitespace> <div class$="each-days-of-month[[_isToday(item, _activeYear, _activeMonth)]][[_isEmptyDate(item)]][[_isChosenDaysOfMonth(item, _selectedYear, _selectedMonth, _selectedDate)]][[_isDisableDays(index, disableDays.*, minDate, maxDate, item)]]" index="[[index]]" date="[[item]]"> [[item]] </div></template> </div><content select=".buttons"></content> </div><template is="dom-if" if="[[_isListUpdated]]" restamp="true" strip-whitespace> <iron-list id="listOfYears" items="[[_listOfYears]]" view="year"> <template strip-whitespace> <div class$="each-list-of-years[[_isListOfYearsSelected(item.year, _activeYear)]]" on-tap="_goCalendar"> [[item.year]] </div></template> </iron-list> </template> </neon-animated-pages> </div></template> <script>var _monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],_dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Polymer({is:"jv-datepicker",hostAttributes:{role:"datepicker"},behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{view:String,theme:String,firstDayOfWeek:{type:Number,value:0},disableDays:{type:Array,value:function(){return[6,0]}},minDate:{type:String,value:"1000-00-01"},maxDate:{type:String,value:"9999-99-99"},format:{type:String,value:"yyyy-mm-dd"},date:{type:String,value:function(){var t=new Date,e=t.getFullYear(),i=this._padStart(t.getMonth()+1,2,"0"),n=this._padStart(t.getDate(),2,"0");return[e,i,n].join("-")},notify:!0,readOnly:!0},inputDate:String,noAnimation:Boolean,pageEntryAnimation:String,pageExitAnimation:String,showLongDate:{type:Boolean,value:!1},invalidDate:{type:Boolean,notify:!0,readOnly:!0},_daysOfWeek:{type:Array,computed:"_computeDaysOfWeek(firstDayOfWeek)"},_daysOfMonth:Array,_listOfYears:Array,_activeView:{type:String,value:"calendar"},_activeYear:{type:Number,value:function(){return(new Date).getFullYear()}},_activeMonth:{type:Number,value:function(){return(new Date).getMonth()}},_isIncrementMonth:Boolean,_isDecrementMonth:Boolean,_selectedYear:{type:Number,value:(new Date).getFullYear()},_selectedMonth:{type:Number,value:(new Date).getMonth()},_selectedDate:{type:Number,value:(new Date).getDate()},_selectedDaysOfWeek:{type:String,value:function(){var t=(new Date).getDay();return 0>t&&(t=6),_dayNames[t].slice(0,3)}},_chosenDaysOfMonth:{type:Number,value:function(){return(new Date).getDate()}},_isListUpdated:{type:Boolean,value:!1},_isSelectedDateConfirmed:Boolean,_format:{type:Object,value:function(){return{y:"yyyy",m:"mm",d:"dd",s1:"-",s2:"-"}}}},observers:["_computeDaysOfMonth(_activeYear, _activeMonth, firstDayOfWeek)","_updateList(_activeView)","_computeSeparateFormat(format)","_computeShowLongDate(showLongDate)","_updateToReflectExternalChange(inputDate)","_updateThemeColor(theme)","_updateDatepickerView(view)"],ready:function(){},attached:function(){this.noAnimation||(this.set("animationConfig",{incrementEntry:[{name:"slide-from-right-animation",node:this.$.daysOfWeek},{name:"slide-from-right-animation",node:this.$.daysOfMonth},{name:"datepicker-slide-from-right-animation",node:this.$.navMonthYear}],decrementEntry:[{name:"slide-from-left-animation",node:this.$.daysOfWeek},{name:"slide-from-left-animation",node:this.$.daysOfMonth},{name:"datepicker-slide-from-left-animation",node:this.$.navMonthYear}]}),this.set("pageEntryAnimation","fade-in-animation"),this.set("pageExitAnimation","fade-out-animation"));var t=this.getEffectiveChildren(),e=Polymer.dom(t[0]).querySelectorAll("paper-button");if(t[0]&&e.length>0){for(var i=0;i<e.length;i++)e[i].hasAttribute("dialog-confirm")&&(e[i].addEventListener("tap",this._updateBindDate.bind(this)),e[i].addEventListener("transitionend",this._updateBindDate.bind(this))),this._updateDistributedButtonInkColorCustomProp(e[i],"#737373");this.$.dp.classList.add("with-buttons")}else this.$.dp.classList.remove("with-buttons");this.fire("jv-datepicker-attached")},detached:function(){},_computeDaysOfMonth:function(t,e,i){function n(t,e){var i=31;return 1===e?i=1===new Date(t,1,29).getMonth()?29:28:(3===e||5===e||8===e||10===e)&&(i=30),i}var a=new Date(t,e,1).getDay(),s=[],o=n(t,e);i>0&&7>i&&(a-=i,a=0>a?7+a:a);for(var r=0,h=1-a;42>r;r++,h++)s.push(r>=a&a+o>r?h:"");this.set("_chosenDaysOfMonth",this._computeChosenDaysOfMonth(s)),this.set("_daysOfMonth",s)},_incrementMonth:function(t){this.debounce("_incrementMonth",function(){var e=t.type;if("tap"===e&&this.set("_isIncrementMonth",!0),("transitionend"===e||this.noAnimation)&&this._isIncrementMonth){var i=this._activeMonth;++i>11&&this._activeYear++,this.set("_activeMonth",i>11?0:i),this.noAnimation||(this.cancelAnimation(),this.playAnimation("incrementEntry")),this.set("_isIncrementMonth",!1)}},1)},_decrementMonth:function(t){this.debounce("_decrementMonth",function(){var e=t.type;if("tap"===e&&this.set("_isDecrementMonth",!0),("transitionend"===e||this.noAnimation)&&this._isDecrementMonth){var i=this._activeMonth;--i<0&&this._activeYear--,this.set("_activeMonth",0>i?11:i),this.noAnimation||(this.cancelAnimation(),this.playAnimation("decrementEntry")),this.set("_isDecrementMonth",!1)}},1)},_computeMonthName:function(t){return _monthNames[t]},_computeShortMonthName:function(t){return _monthNames[t].slice(0,3)},_chooseDaysOfMonth:function(t){var e=t.target;if(e&&this._isNumber(e.date)&&!e.classList.contains("is-disabled-day")){if(99!==this._chosenDaysOfMonth){var i=Polymer.dom(this.$.daysOfMonth).querySelectorAll("div");this.toggleClass("chosen-days-of-month",!1,i[this._chosenDaysOfMonth])}this.toggleClass("chosen-days-of-month",!0,e),this.set("_chosenDaysOfMonth",e.index),this.set("_selectedDate",e.date),this.set("_selectedYear",this._activeYear),this.set("_selectedMonth",this._activeMonth),this.set("_selectedDaysOfWeek",this._computeShortDayName(e.index%7))}},_computeShortDayName:function(t){return _dayNames[t].slice(0,3)},_isToday:function(t,e,i){var n=new Date;return t===n.getDate()&&e===n.getFullYear()&&i===n.getMonth()?" is-today":""},_isEmptyDate:function(t){return this._isNumber(t)?"":" is-non-selectable"},_isChosenDaysOfMonth:function(t,e,i,n){return 99!==this._chosenDaysOfMonth&&this._activeYear===e&&this._activeMonth===i&&t===n?" chosen-days-of-month":""},_isDisableDays:function(t,e,i,n,a){var s,o,r=this.disableDays.some(function(e){return e===t%7});if(this._isNumber(a)){var h=this._computeMinDate(i),d=this._computeMaxDate(n),c=new Date(this._activeYear,this._activeMonth,a);this._isUndefined(h)||(s=c<new Date(h.year,h.month-1,h.date)),this._isUndefined(d)||(o=c>new Date(d.year,d.month-1,d.date))}return r||s||o?" is-disabled-day":""},_isListOfYearsSelected:function(t,e){return t===e?" is-selected":""},_computeDaysOfWeek:function(t){if(t>0&&7>t){var e=["S","M","T","W","T","F","S"],i=e.slice(t),n=e.slice(0,t),a=Array.prototype.concat(i,n);return a}return["S","M","T","W","T","F","S"]},_computeChosenDaysOfMonth:function(t){var e=t.indexOf(this._selectedDate);return e>0?e:void 0},_computeMinDate:function(t){var e=/(\d{4})[^a-zA-Z0-9]+(\d{2})[^a-zA-Z0-9]+(\d{2})/i,i=e.exec(t);return null!==i?{year:parseInt(i[1]),month:parseInt(i[2]),date:parseInt(i[3])}:void 0},_computeMaxDate:function(t){var e=/(\d{4})[^a-zA-Z0-9]+(\d{2})[^a-zA-Z0-9]+(\d{2})/i,i=e.exec(t);return null!==i?{year:parseInt(i[1]),month:parseInt(i[2]),date:parseInt(i[3])}:void 0},_updateList:function(t){if("year"===t)if(this._isListUpdated)this.$$("#listOfYears").scrollToIndex(this._activeYear-1900-2),this.$$("#listOfYears").notifyResize();else{if(this.set("_isListUpdated",!0),!this._listOfYears){for(var e=[],i=1900,n=i;2100>=n;n++)e.push({year:n});this.set("_listOfYears",e)}this.async(function(){this.$$("#listOfYears").selectItem(this._activeYear-1900),this.$$("#listOfYears").scrollToIndex(this._activeYear-1900-1),this.$$("#listOfYears").notifyResize()},1)}},_goCalendar:function(t){var e=t.model.item.year;this.set("_activeYear",e),this.set("_selectedYear",e),this.set("_activeView","calendar")},_computeSeparateFormat:function(t){var e=/(yyyy|yy)[^a-zA-Z0-9]+(mmmm|mmm|mm|m)[^a-zA-Z0-9]+(do|dd|d)/i,i=/\w+([^a-zA-Z0-9]+)\w+([^a-zA-Z0-9]+)\w+/i,n=e.exec(t),a=i.exec(t),s={};null!==n&&null!==a&&(s.y=n[1],s.m=n[2],s.d=n[3],s.s1=a[1],s.s2=a[2]),this.set("_format",s),s=null},_bindSelectedFulldate:function(t,e,i,n){if(this.showLongDate){var a=new Date(t,e,i).toString().slice(0,15);return a.slice(0,3)+","+a.slice(3)}var s=t,o=_monthNames[e],r=i,h="";if("yy"===n.y&&(s=t%100),"mmm"===n.m?o=o.slice(0,3):"mm"===n.m?o=this._padStart(e+1,2,"0"):"m"===n.m&&(o=e+1),"do"===n.d){var d=r%10,c=d>3?"th":["th","st","nd","rd"][d];(11===r||12==r||13===r)&&(c="th"),r+=c}else"dd"===n.d&&(r=this._padStart(r,2,"0"));return h=[s,n.s1,o,n.s2,r].join("")},_updateBindDate:function(t){this.debounce("_updateBindDate",function(){var e=t.type;if("tap"===e&&this.set("_isSelectedDateConfirmed",!0),("transitionend"===e||this.noAnimation)&&this._isSelectedDateConfirmed){var i=this._selectedYear,n=this._selectedMonth,a=this._selectedDate,s=this._format,o=this._bindSelectedFulldate(i,n,a,s);this._setDate(o),this.set("_isSelectedDateConfirmed",!1)}},1)},_computeShowLongDate:function(t){var e=this._isUndefined(this._selectedDate);if(t){var i=new Date(this._selectedYear,this._selectedMonth,this._selectedDate).toString().slice(0,15);i=e?(new Date).toString().slice(0,15):i,this._setDate(i.slice(0,3)+","+i.slice(3))}else{var i=this._bindSelectedFulldate(this._selectedYear,this._selectedMonth,this._selectedDate,this._format);i=e?this.date:i,this._setDate(i)}},_updateToReflectExternalChange:function(t){function e(t){var e=isNaN(parseFloat(t));if(e){var i=/([0-9]+)[t|h|r|s|n|d]/i,n=null!==i.exec(t);return n?("0"+t).slice(-2):t}return 1>t/1e3?("0"+t).slice(-2):("0"+t).slice(-4)}var i=this.showLongDate,n=0,a=0,s=0,o=new Date(t);if(this._setInvalidDate(!1),!i){var r=/(\w+)[^a-zA-Z0-9]+(\w+)[^a-zA-Z0-9]+(\w+)/i,h=r.exec(t);if(null===h)return void this._setInvalidDate(!0);var d=e(h[1]),a=e(h[2]),c=e(h[3]),l=[d,a,c].join("-");o=new Date(l)}return"Invalid Date"==o?(this._computeShowLongDate(i),void this._setInvalidDate(!0)):(n=o.getFullYear(),a=o.getMonth(),s=o.getDate(),this.set("_activeYear",n),this.set("_activeMonth",a),this.set("_selectedYear",n),this.set("_selectedMonth",a),this.set("_selectedDate",s),void this._computeShowLongDate(i))},enforceDateChange:function(){this._computeShowLongDate(this.showLongDate)},_padStart:function(t,e,i){var n=-e,a=(i+t).slice(n);return a},_isUndefined:function(t){return void 0===t},_isNumber:function(t){return"number"==typeof t||!isNaN(parseFloat(t))&&isFinite(t)},_updateThemeColor:function(t){var e=["dark-theme","light-theme","goog-theme"],i=e.indexOf(t),n=Polymer.dom(this).querySelectorAll("paper-button"),a=n.length,s=["#bcbcbc","#737373","#616161"][i];i>=0?(e.splice(i,1),this.toggleClass(e[0],!1,this),this.toggleClass(e[1],!1,this),this.toggleClass(t,!0,this)):(this.toggleClass("dark-theme",!1,this),this.toggleClass("light-theme",!1,this),this.toggleClass("goog-theme",!1,this));for(var o=0;a>o;o++)this._updateDistributedButtonInkColorCustomProp(n[o],s||"#737373");this.updateStyles()},_updateDatepickerView:function(t){this.toggleClass("horizontal-view","horizontal"===t,this),this.toggleClass("vertical-view","vertical"===t,this)},_updateDistributedButtonInkColorCustomProp:function(t,e){t.customStyle["--paper-button-ink-color"]=e,t.updateStyles()}});</script></dom-module>
